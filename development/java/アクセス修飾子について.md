# Java におけるアクセス修飾子について

## 概要

`アクセス修飾子` は `Java` だけではなく昨今の高級言語でコードを書く際には必須のキーワードである。

ただ、普段コードを書いている時には意識せずともその `アクセス修飾子` の役割を使い分けているが、実際にその役割と機能を口頭で説明するとなるとなかなか上手く表現できないものである。

そのため、この際に復習を兼ねて `Java` における `アクセス修飾子` に関してまとめておこうと思う。

## `アクセス修飾子` とは

まず、`アクセス修飾子` とは `オブジェクト指向プログラミング` にとって極めて重要な概念である。

`アクセス修飾子` はクラス、フィールド、メソッドに付加することによって、`アクセス修飾子` が付加された要素に対する外部からの `スコープ（可視性）` を制限することができる。

つまり、適切に `アクセス修飾子` が付加された要素には以下の利点がある。

- 実装者が意識しなくても良いクラス、メソッド、フィールドを隠蔽することできる
- また、要素を隠蔽することによって実装者による不要または不正なデータの書き換えを防止することができる
- 意識するべきレイヤーと意識しなくてもよいレイヤーを切り分けることにより保守性が向上する

以上のように、`アクセス修飾子` はソフトウェア開発において非常に重要な概念である。

## `アクセス修飾子` の種類

`Java` における `アクセス修飾子` には以下の種類が存在する。</br>
以下の `アクセス修飾子` をクラス、フィールド、メソッドに付加することによって `スコープ` を決定することができる。

> **_Note:_**</br>
> クラスに対しては `public` または `指定なし` のみを適用できる。</br>
> また、`指定なし` に関しては別名で `パッケージプライベート` と呼ばれる。

| 修飾子                                  | 機能                                                                 |
| --------------------------------------- | -------------------------------------------------------------------- |
| public                                  | 全クラスからアクセス可能                                             |
| protected                               | 現在のクラスと、同じパッケージ内またはサブクラスからのみアクセス可能 |
| 指定なし</br>（パッケージプライベート） | 現在のクラスと、同じパッケージ内のクラスからのみアクセス可能         |
| private                                 | 現在のクラスからのみアクセス可能                                     |

以上のマトリクスを見ていただければわかる通り、`public` に近づくほど `スコープ` は広くなり、`private` に近づくほど `スコープ` は狭くなる。

外部から各要素に対する `スコープ` に焦点を当てて以上のマトリクスをより詳細にまとめたものが以下のものになる。

|                                         | 現在のクラス | 同じパッケージ内のクラス | サブクラス | その他のクラス |
| --------------------------------------- | :----------: | :----------------------: | :--------: | :------------: |
| public                                  |      ◯       |            ◯             |     ◯      |       ◯        |
| protected                               |      ◯       |            ◯             |     ◯      |                |
| 指定なし</br>（パッケージプライベート） |      ◯       |            ◯             |            |                |
| private                                 |      ◯       |                          |            |                |

以上から、`アクセス修飾子` による `スコープ` を制限する強度は以下のような関係になる。

<font color="Red">制限が弱い</font> ← **_public < protected < 指定なし <br private_** → <font color="Red">制限が強い</font>

## `アクセス修飾子` の使い分け

### 1. `public`

`public` は以下のような要素に付加するべきである。

- 実装者が意識すべきクラスとメソッド
- 外部から利用して実装に不可欠なクラスとメソッド

**_逆に以下のような要素には付加するべきではない。_**

- 実装者が意識しなくてよいクラスとメソッド
- 外部から呼び出されることが想定されていないクラスとメソッド
- フィールド

### 2. `protected`

`protected` は以下のような要素に付加するべきである。

- サブクラスまたは同一パッケージからのみ使用するメソッド

### 3. `指定なし（パッケージプライベート）`

`指定なし` は以下のような要素に付加するべきである。

- 外部から利用して実装に必要ではないクラス
- 同一パッケージからのみ使用するクラス

### 4. `private`

`private` は以下のような要素に付加するべきである。

- フィールド
- 外部から直接呼び出されることが想定されていないメソッド（サブルーチン）

> **_Note_**</br>
> フィールドに関しては外部からのデータの不正な書き換えを防ぐため全要素を `private` で指定し、 `public` または `protected` を指定した `getter` メソッドを介してデータの交換を行うことが好ましい。
