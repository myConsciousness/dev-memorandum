# リネーム後に過去の履歴付きでコミットする方法

## やりたいこと

既に `Git` の管理下にあるファイルをリネームした際に、過去のコミット履歴を保持したままリネームしたファイルをコミットしたい。

## 方法

単純に `ファイル名を変更` といった機能でリネームしてしまうと `Git` がファイルを追跡できなくなりリネーム前の管理ファイルに紐づく過去のコミット履歴が消えてしまう。そのため、ファイルがリネームされたことを `Git` に通知しなければならない。

### 1. `git mv` コマンドを使用する

**_構文_**

```git
git mv oldName newName
```

上記のコマンドはパスを指定することも可能。

```git
git mv ./hoge/oldName ./hoge/newName
```

試しにこの `md` ファイルをリネームしてみる。

```Powershell
git mv development\git\リネーム後に過去の履歴付きでコミット.md development\git\リネーム後に過去のコミット履歴付きでコミット.md
```

### 2. `git mv` コマンド使用後のステータス確認（任意）

この確認は必須ではないが、 `git mv` コマンドの使用後に `git status` コマンドを実行すると `Git` にリネームされた情報が通知されていることを確認できる。

> Note:<br>
> リネームの通知情報は `renamed` キーに紐づく値

```git
git status

On branch master
Your branch is up to date with 'origin/master'.

Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

        renamed:    "development/git/\343\203\252\343\203\215\343\203\274\343\203\240\345\276\214\343\201\253\351\201\216\345\216\273\343\201\256\345\261\245\346\255\264\344\273\230\343\201\215\343\201\247\343\202\263\343\203\237\343\203\203\343\203\210.md" -> "development/git/\343\203\252\343\203\215\343\203\274\343\203\240\345\276\214\343\201\253\351\201\216\345\216\273\343\201\256\343\202\263\343\203\237\343\203\203\343\203\210\345\261\245\346\255\264\344\273\230\343\201\215\343\201\247\343\202\263\343\203\237\343\203\203\343\203\210.md"
```

### 3. コミット

リネームが完了したらあとはいつものようにコミット & プッシュをする。

```git
git add renamedFile
git commit -m"hogehoge"
git push origin renamedFile
```
